FLAGS =  $(ARCH) -g -fPIC -ansi  -Wno-overloaded-virtual -Wno-long-long -fno-common  -pedantic -Wall -std=c++14 `root-config --libs --ldflags --cflags`
LINKER = g++ -g -shared $(OPTIMISATION)


dummy.o: dummy.cc
	$(CXX) $(FLAGS) -c dummy.cc -o dummy.o

Setup.o: Setup.cc Setup.h
	$(CXX) $(FLAGS) -I. -c Setup.cc -o Setup.o

Cint.cxx: Setup.h LinkDef.h
	rootcint -v -f Cint.cxx -c Setup.h LinkDef.h

Cint.o: Cint.cxx
	$(CXX) $(FLAGS) -c Cint.cxx -o Cint.o

libSetup.so: Cint.o Setup.o
	$(LINKER) -o libSetup.so Setup.o Cint.o

dummy: Setup.o libSetup.o dummy.o
	$(CXX) $(FLAGS) dummy.o Setup.o libSetup.o -o dummy
